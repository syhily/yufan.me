---
import UnstyledImage from '@/components/mdx/image/UnstyledImage.astro'
import UnstyledMusicPlayer from '@/components/mdx/music/UnstyledMusicPlayer.astro'
import UnstyledSolution from '@/components/mdx/solutions/UnstyledSolution.astro'
import { getPosts } from '@/helpers/content/schema'

interface Props {
  slug: string
}

const { slug } = Astro.props
const post = getPosts({ hidden: true, schedule: true }).find(post => post.slug === slug)
if (!post) {
  return Astro.redirect('/404')
}

const { Content } = await post.render()
---

<Content
  components={{
    MusicPlayer: UnstyledMusicPlayer,
    Solution: UnstyledSolution,
    Image: UnstyledImage,
  }}
/>
