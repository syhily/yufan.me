---
import Image from '@/components/image/Image.astro';
import UnstyledPlayer from '@/components/netease/UnstyledPlayer.astro';
import { posts } from '@/helpers/schema';

const { slug } = Astro.params;
const post = posts.find((post) => post.slug === slug);
if (!post) {
  return Astro.redirect('/404');
}

const { Content } = await post.render();
---

<Content components={{ NeteasePlayer: UnstyledPlayer, Image: Image }} />
