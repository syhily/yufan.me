---
import UnstyledAlbum from '@/components/album/UnstyledAlbum.astro';
import UnstyledImage from '@/components/image/UnstyledImage.astro';
import { posts } from '@/helpers/schema';
import UnstyledMusicPlayer from 'astro-netease-player/UnstyledMusicPlayer.astro';

interface Props {
  slug: string;
}

const { slug } = Astro.props;
const post = posts.find((post) => post.slug === slug);
if (!post) {
  return Astro.redirect('/404');
}

const { Content } = await post.render();
---

<Content components={{ MusicPlayer: UnstyledMusicPlayer, Image: UnstyledImage, Album: UnstyledAlbum }} />
