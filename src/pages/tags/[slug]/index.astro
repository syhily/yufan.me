---
import { getTag, posts } from '@/helpers/schema';
import TagLayout from '@/layouts/posts/TagLayout.astro';

const { slug } = Astro.params;
const tag = getTag(undefined, slug);

if (!tag) {
  return Astro.redirect('/404');
}

const filteredPosts = posts.filter((post) => post.tags.includes(tag.name));
---

<TagLayout posts={filteredPosts} {tag} pageNum={1} />
